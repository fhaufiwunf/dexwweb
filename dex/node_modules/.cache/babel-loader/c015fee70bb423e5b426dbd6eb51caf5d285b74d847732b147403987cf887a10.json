{"ast":null,"code":"\"use strict\";\n\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Referencer_jsxPragma, _Referencer_jsxFragmentName, _Referencer_hasReferencedJsxFactory, _Referencer_hasReferencedJsxFragmentFactory, _Referencer_lib, _Referencer_emitDecoratorMetadata;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Referencer = void 0;\nconst types_1 = require(\"@typescript-eslint/types\");\nconst assert_1 = require(\"../assert\");\nconst definition_1 = require(\"../definition\");\nconst lib_1 = require(\"../lib\");\nconst ClassVisitor_1 = require(\"./ClassVisitor\");\nconst ExportVisitor_1 = require(\"./ExportVisitor\");\nconst ImportVisitor_1 = require(\"./ImportVisitor\");\nconst PatternVisitor_1 = require(\"./PatternVisitor\");\nconst Reference_1 = require(\"./Reference\");\nconst TypeVisitor_1 = require(\"./TypeVisitor\");\nconst Visitor_1 = require(\"./Visitor\");\n// Referencing variables and creating bindings.\nclass Referencer extends Visitor_1.Visitor {\n  constructor(options, scopeManager) {\n    super(options);\n    _Referencer_jsxPragma.set(this, void 0);\n    _Referencer_jsxFragmentName.set(this, void 0);\n    _Referencer_hasReferencedJsxFactory.set(this, false);\n    _Referencer_hasReferencedJsxFragmentFactory.set(this, false);\n    _Referencer_lib.set(this, void 0);\n    _Referencer_emitDecoratorMetadata.set(this, void 0);\n    this.scopeManager = scopeManager;\n    __classPrivateFieldSet(this, _Referencer_jsxPragma, options.jsxPragma, \"f\");\n    __classPrivateFieldSet(this, _Referencer_jsxFragmentName, options.jsxFragmentName, \"f\");\n    __classPrivateFieldSet(this, _Referencer_lib, options.lib, \"f\");\n    __classPrivateFieldSet(this, _Referencer_emitDecoratorMetadata, options.emitDecoratorMetadata, \"f\");\n  }\n  currentScope(dontThrowOnNull) {\n    if (!dontThrowOnNull) {\n      (0, assert_1.assert)(this.scopeManager.currentScope, 'aaa');\n    }\n    return this.scopeManager.currentScope;\n  }\n  close(node) {\n    while (this.currentScope(true) && node === this.currentScope().block) {\n      this.scopeManager.currentScope = this.currentScope().close(this.scopeManager);\n    }\n  }\n  referencingDefaultValue(pattern, assignments, maybeImplicitGlobal, init) {\n    assignments.forEach(assignment => {\n      this.currentScope().referenceValue(pattern, Reference_1.ReferenceFlag.Write, assignment.right, maybeImplicitGlobal, init);\n    });\n  }\n  populateGlobalsFromLib(globalScope) {\n    for (const lib of __classPrivateFieldGet(this, _Referencer_lib, \"f\")) {\n      const variables = lib_1.lib[lib];\n      /* istanbul ignore if */\n      if (!variables) {\n        throw new Error(`Invalid value for lib provided: ${lib}`);\n      }\n      for (const [name, variable] of Object.entries(variables)) {\n        globalScope.defineImplicitVariable(name, variable);\n      }\n    }\n    // for const assertions (`{} as const` / `<const>{}`)\n    globalScope.defineImplicitVariable('const', {\n      eslintImplicitGlobalSetting: 'readonly',\n      isTypeVariable: true,\n      isValueVariable: false\n    });\n  }\n  /**\n   * Searches for a variable named \"name\" in the upper scopes and adds a pseudo-reference from itself to itself\n   */\n  referenceInSomeUpperScope(name) {\n    let scope = this.scopeManager.currentScope;\n    while (scope) {\n      const variable = scope.set.get(name);\n      if (!variable) {\n        scope = scope.upper;\n        continue;\n      }\n      scope.referenceValue(variable.identifiers[0]);\n      return true;\n    }\n    return false;\n  }\n  referenceJsxPragma() {\n    if (__classPrivateFieldGet(this, _Referencer_jsxPragma, \"f\") == null || __classPrivateFieldGet(this, _Referencer_hasReferencedJsxFactory, \"f\")) {\n      return;\n    }\n    __classPrivateFieldSet(this, _Referencer_hasReferencedJsxFactory, this.referenceInSomeUpperScope(__classPrivateFieldGet(this, _Referencer_jsxPragma, \"f\")), \"f\");\n  }\n  referenceJsxFragment() {\n    if (__classPrivateFieldGet(this, _Referencer_jsxFragmentName, \"f\") == null || __classPrivateFieldGet(this, _Referencer_hasReferencedJsxFragmentFactory, \"f\")) {\n      return;\n    }\n    __classPrivateFieldSet(this, _Referencer_hasReferencedJsxFragmentFactory, this.referenceInSomeUpperScope(__classPrivateFieldGet(this, _Referencer_jsxFragmentName, \"f\")), \"f\");\n  }\n  ///////////////////\n  // Visit helpers //\n  ///////////////////\n  visitClass(node) {\n    ClassVisitor_1.ClassVisitor.visit(this, node, __classPrivateFieldGet(this, _Referencer_emitDecoratorMetadata, \"f\"));\n  }\n  visitForIn(node) {\n    if (node.left.type === types_1.AST_NODE_TYPES.VariableDeclaration && node.left.kind !== 'var') {\n      this.scopeManager.nestForScope(node);\n    }\n    if (node.left.type === types_1.AST_NODE_TYPES.VariableDeclaration) {\n      this.visit(node.left);\n      this.visitPattern(node.left.declarations[0].id, pattern => {\n        this.currentScope().referenceValue(pattern, Reference_1.ReferenceFlag.Write, node.right, null, true);\n      });\n    } else {\n      this.visitPattern(node.left, (pattern, info) => {\n        const maybeImplicitGlobal = !this.currentScope().isStrict ? {\n          pattern,\n          node\n        } : null;\n        this.referencingDefaultValue(pattern, info.assignments, maybeImplicitGlobal, false);\n        this.currentScope().referenceValue(pattern, Reference_1.ReferenceFlag.Write, node.right, maybeImplicitGlobal, false);\n      }, {\n        processRightHandNodes: true\n      });\n    }\n    this.visit(node.right);\n    this.visit(node.body);\n    this.close(node);\n  }\n  visitFunctionParameterTypeAnnotation(node) {\n    if ('typeAnnotation' in node) {\n      this.visitType(node.typeAnnotation);\n    } else if (node.type === types_1.AST_NODE_TYPES.AssignmentPattern) {\n      this.visitType(node.left.typeAnnotation);\n    } else if (node.type === types_1.AST_NODE_TYPES.TSParameterProperty) {\n      this.visitFunctionParameterTypeAnnotation(node.parameter);\n    }\n  }\n  visitFunction(node) {\n    // FunctionDeclaration name is defined in upper scope\n    // NOTE: Not referring variableScope. It is intended.\n    // Since\n    //  in ES5, FunctionDeclaration should be in FunctionBody.\n    //  in ES6, FunctionDeclaration should be block scoped.\n    var _a;\n    if (node.type === types_1.AST_NODE_TYPES.FunctionExpression) {\n      if (node.id) {\n        // FunctionExpression with name creates its special scope;\n        // FunctionExpressionNameScope.\n        this.scopeManager.nestFunctionExpressionNameScope(node);\n      }\n    } else if (node.id) {\n      // id is defined in upper scope\n      this.currentScope().defineIdentifier(node.id, new definition_1.FunctionNameDefinition(node.id, node));\n    }\n    // Consider this function is in the MethodDefinition.\n    this.scopeManager.nestFunctionScope(node, false);\n    // Process parameter declarations.\n    for (const param of node.params) {\n      this.visitPattern(param, (pattern, info) => {\n        this.currentScope().defineIdentifier(pattern, new definition_1.ParameterDefinition(pattern, node, info.rest));\n        this.referencingDefaultValue(pattern, info.assignments, null, true);\n      }, {\n        processRightHandNodes: true\n      });\n      this.visitFunctionParameterTypeAnnotation(param);\n      (_a = param.decorators) === null || _a === void 0 ? void 0 : _a.forEach(d => this.visit(d));\n    }\n    this.visitType(node.returnType);\n    this.visitType(node.typeParameters);\n    // In TypeScript there are a number of function-like constructs which have no body,\n    // so check it exists before traversing\n    if (node.body) {\n      // Skip BlockStatement to prevent creating BlockStatement scope.\n      if (node.body.type === types_1.AST_NODE_TYPES.BlockStatement) {\n        this.visitChildren(node.body);\n      } else {\n        this.visit(node.body);\n      }\n    }\n    this.close(node);\n  }\n  visitProperty(node) {\n    if (node.computed) {\n      this.visit(node.key);\n    }\n    this.visit(node.value);\n  }\n  visitType(node) {\n    if (!node) {\n      return;\n    }\n    TypeVisitor_1.TypeVisitor.visit(this, node);\n  }\n  visitTypeAssertion(node) {\n    this.visit(node.expression);\n    this.visitType(node.typeAnnotation);\n  }\n  /////////////////////\n  // Visit selectors //\n  /////////////////////\n  ArrowFunctionExpression(node) {\n    this.visitFunction(node);\n  }\n  AssignmentExpression(node) {\n    let left = node.left;\n    switch (left.type) {\n      case types_1.AST_NODE_TYPES.TSAsExpression:\n      case types_1.AST_NODE_TYPES.TSTypeAssertion:\n        // explicitly visit the type annotation\n        this.visitType(left.typeAnnotation);\n      // intentional fallthrough\n      case types_1.AST_NODE_TYPES.TSNonNullExpression:\n        // unwrap the expression\n        left = left.expression;\n    }\n    if (PatternVisitor_1.PatternVisitor.isPattern(left)) {\n      if (node.operator === '=') {\n        this.visitPattern(left, (pattern, info) => {\n          const maybeImplicitGlobal = !this.currentScope().isStrict ? {\n            pattern,\n            node\n          } : null;\n          this.referencingDefaultValue(pattern, info.assignments, maybeImplicitGlobal, false);\n          this.currentScope().referenceValue(pattern, Reference_1.ReferenceFlag.Write, node.right, maybeImplicitGlobal, false);\n        }, {\n          processRightHandNodes: true\n        });\n      } else if (left.type === types_1.AST_NODE_TYPES.Identifier) {\n        this.currentScope().referenceValue(left, Reference_1.ReferenceFlag.ReadWrite, node.right);\n      }\n    } else {\n      this.visit(left);\n    }\n    this.visit(node.right);\n  }\n  BlockStatement(node) {\n    if (this.scopeManager.isES6()) {\n      this.scopeManager.nestBlockScope(node);\n    }\n    this.visitChildren(node);\n    this.close(node);\n  }\n  BreakStatement() {\n    // don't reference the break statement's label\n  }\n  CallExpression(node) {\n    this.visitChildren(node, ['typeParameters']);\n    this.visitType(node.typeParameters);\n  }\n  CatchClause(node) {\n    this.scopeManager.nestCatchScope(node);\n    if (node.param) {\n      const param = node.param;\n      this.visitPattern(param, (pattern, info) => {\n        this.currentScope().defineIdentifier(pattern, new definition_1.CatchClauseDefinition(param, node));\n        this.referencingDefaultValue(pattern, info.assignments, null, true);\n      }, {\n        processRightHandNodes: true\n      });\n    }\n    this.visit(node.body);\n    this.close(node);\n  }\n  ClassExpression(node) {\n    this.visitClass(node);\n  }\n  ClassDeclaration(node) {\n    this.visitClass(node);\n  }\n  ContinueStatement() {\n    // don't reference the continue statement's label\n  }\n  ExportAllDeclaration() {\n    // this defines no local variables\n  }\n  ExportDefaultDeclaration(node) {\n    if (node.declaration.type === types_1.AST_NODE_TYPES.Identifier) {\n      ExportVisitor_1.ExportVisitor.visit(this, node);\n    } else {\n      this.visit(node.declaration);\n    }\n  }\n  ExportNamedDeclaration(node) {\n    if (node.declaration) {\n      this.visit(node.declaration);\n    } else {\n      ExportVisitor_1.ExportVisitor.visit(this, node);\n    }\n  }\n  ForInStatement(node) {\n    this.visitForIn(node);\n  }\n  ForOfStatement(node) {\n    this.visitForIn(node);\n  }\n  ForStatement(node) {\n    // Create ForStatement declaration.\n    // NOTE: In ES6, ForStatement dynamically generates per iteration environment. However, this is\n    // a static analyzer, we only generate one scope for ForStatement.\n    if (node.init && node.init.type === types_1.AST_NODE_TYPES.VariableDeclaration && node.init.kind !== 'var') {\n      this.scopeManager.nestForScope(node);\n    }\n    this.visitChildren(node);\n    this.close(node);\n  }\n  FunctionDeclaration(node) {\n    this.visitFunction(node);\n  }\n  FunctionExpression(node) {\n    this.visitFunction(node);\n  }\n  Identifier(node) {\n    this.currentScope().referenceValue(node);\n    this.visitType(node.typeAnnotation);\n  }\n  ImportDeclaration(node) {\n    (0, assert_1.assert)(this.scopeManager.isES6() && this.scopeManager.isModule(), 'ImportDeclaration should appear when the mode is ES6 and in the module context.');\n    ImportVisitor_1.ImportVisitor.visit(this, node);\n  }\n  JSXAttribute(node) {\n    this.visit(node.value);\n  }\n  JSXClosingElement() {\n    // should not be counted as a reference\n  }\n  JSXFragment(node) {\n    this.referenceJsxPragma();\n    this.referenceJsxFragment();\n    this.visitChildren(node);\n  }\n  JSXIdentifier(node) {\n    this.currentScope().referenceValue(node);\n  }\n  JSXMemberExpression(node) {\n    if (node.object.type !== types_1.AST_NODE_TYPES.JSXIdentifier) {\n      this.visit(node.object);\n    } else {\n      if (node.object.name !== 'this') {\n        this.visit(node.object);\n      }\n    }\n    // we don't ever reference the property as it's always going to be a property on the thing\n  }\n  JSXOpeningElement(node) {\n    this.referenceJsxPragma();\n    if (node.name.type === types_1.AST_NODE_TYPES.JSXIdentifier) {\n      if (node.name.name[0].toUpperCase() === node.name.name[0] || node.name.name === 'this') {\n        // lower cased component names are always treated as \"intrinsic\" names, and are converted to a string,\n        // not a variable by JSX transforms:\n        // <div /> => React.createElement(\"div\", null)\n        // the only case we want to visit a lower-cased component has its name as \"this\",\n        this.visit(node.name);\n      }\n    } else {\n      this.visit(node.name);\n    }\n    this.visitType(node.typeParameters);\n    for (const attr of node.attributes) {\n      this.visit(attr);\n    }\n  }\n  LabeledStatement(node) {\n    this.visit(node.body);\n  }\n  MemberExpression(node) {\n    this.visit(node.object);\n    if (node.computed) {\n      this.visit(node.property);\n    }\n  }\n  MetaProperty() {\n    // meta properties all builtin globals\n  }\n  NewExpression(node) {\n    this.visitChildren(node, ['typeParameters']);\n    this.visitType(node.typeParameters);\n  }\n  PrivateIdentifier() {\n    // private identifiers are members on classes and thus have no variables to to reference\n  }\n  Program(node) {\n    const globalScope = this.scopeManager.nestGlobalScope(node);\n    this.populateGlobalsFromLib(globalScope);\n    if (this.scopeManager.isGlobalReturn()) {\n      // Force strictness of GlobalScope to false when using node.js scope.\n      this.currentScope().isStrict = false;\n      this.scopeManager.nestFunctionScope(node, false);\n    }\n    if (this.scopeManager.isES6() && this.scopeManager.isModule()) {\n      this.scopeManager.nestModuleScope(node);\n    }\n    if (this.scopeManager.isStrictModeSupported() && this.scopeManager.isImpliedStrict()) {\n      this.currentScope().isStrict = true;\n    }\n    this.visitChildren(node);\n    this.close(node);\n  }\n  Property(node) {\n    this.visitProperty(node);\n  }\n  SwitchStatement(node) {\n    this.visit(node.discriminant);\n    if (this.scopeManager.isES6()) {\n      this.scopeManager.nestSwitchScope(node);\n    }\n    for (const switchCase of node.cases) {\n      this.visit(switchCase);\n    }\n    this.close(node);\n  }\n  TaggedTemplateExpression(node) {\n    this.visit(node.tag);\n    this.visit(node.quasi);\n    this.visitType(node.typeParameters);\n  }\n  TSAsExpression(node) {\n    this.visitTypeAssertion(node);\n  }\n  TSDeclareFunction(node) {\n    this.visitFunction(node);\n  }\n  TSImportEqualsDeclaration(node) {\n    this.currentScope().defineIdentifier(node.id, new definition_1.ImportBindingDefinition(node.id, node, node));\n    if (node.moduleReference.type === types_1.AST_NODE_TYPES.TSQualifiedName) {\n      this.visit(node.moduleReference.left);\n    } else {\n      this.visit(node.moduleReference);\n    }\n  }\n  TSEmptyBodyFunctionExpression(node) {\n    this.visitFunction(node);\n  }\n  TSEnumDeclaration(node) {\n    this.currentScope().defineIdentifier(node.id, new definition_1.TSEnumNameDefinition(node.id, node));\n    // enum members can be referenced within the enum body\n    this.scopeManager.nestTSEnumScope(node);\n    // define the enum name again inside the new enum scope\n    // references to the enum should not resolve directly to the enum\n    this.currentScope().defineIdentifier(node.id, new definition_1.TSEnumNameDefinition(node.id, node));\n    for (const member of node.members) {\n      // TS resolves literal named members to be actual names\n      // enum Foo {\n      //   'a' = 1,\n      //   b = a, // this references the 'a' member\n      // }\n      if (member.id.type === types_1.AST_NODE_TYPES.Literal && typeof member.id.value === 'string') {\n        const name = member.id;\n        this.currentScope().defineLiteralIdentifier(name, new definition_1.TSEnumMemberDefinition(name, member));\n      } else if (!member.computed && member.id.type === types_1.AST_NODE_TYPES.Identifier) {\n        this.currentScope().defineIdentifier(member.id, new definition_1.TSEnumMemberDefinition(member.id, member));\n      }\n      this.visit(member.initializer);\n    }\n    this.close(node);\n  }\n  TSInstantiationExpression(node) {\n    this.visitChildren(node, ['typeParameters']);\n    this.visitType(node.typeParameters);\n  }\n  TSInterfaceDeclaration(node) {\n    this.visitType(node);\n  }\n  TSModuleDeclaration(node) {\n    if (node.id.type === types_1.AST_NODE_TYPES.Identifier && !node.global) {\n      this.currentScope().defineIdentifier(node.id, new definition_1.TSModuleNameDefinition(node.id, node));\n    }\n    this.scopeManager.nestTSModuleScope(node);\n    this.visit(node.body);\n    this.close(node);\n  }\n  TSSatisfiesExpression(node) {\n    this.visitTypeAssertion(node);\n  }\n  TSTypeAliasDeclaration(node) {\n    this.visitType(node);\n  }\n  TSTypeAssertion(node) {\n    this.visitTypeAssertion(node);\n  }\n  UpdateExpression(node) {\n    if (PatternVisitor_1.PatternVisitor.isPattern(node.argument)) {\n      this.visitPattern(node.argument, pattern => {\n        this.currentScope().referenceValue(pattern, Reference_1.ReferenceFlag.ReadWrite, null);\n      });\n    } else {\n      this.visitChildren(node);\n    }\n  }\n  VariableDeclaration(node) {\n    const variableTargetScope = node.kind === 'var' ? this.currentScope().variableScope : this.currentScope();\n    for (const decl of node.declarations) {\n      const init = decl.init;\n      this.visitPattern(decl.id, (pattern, info) => {\n        variableTargetScope.defineIdentifier(pattern, new definition_1.VariableDefinition(pattern, decl, node));\n        this.referencingDefaultValue(pattern, info.assignments, null, true);\n        if (init) {\n          this.currentScope().referenceValue(pattern, Reference_1.ReferenceFlag.Write, init, null, true);\n        }\n      }, {\n        processRightHandNodes: true\n      });\n      if (decl.init) {\n        this.visit(decl.init);\n      }\n      if ('typeAnnotation' in decl.id) {\n        this.visitType(decl.id.typeAnnotation);\n      }\n    }\n  }\n  WithStatement(node) {\n    this.visit(node.object);\n    // Then nest scope for WithStatement.\n    this.scopeManager.nestWithScope(node);\n    this.visit(node.body);\n    this.close(node);\n  }\n  ImportAttribute() {\n    // import assertions are module metadata and thus have no variables to reference\n  }\n}\nexports.Referencer = Referencer;\n_Referencer_jsxPragma = new WeakMap(), _Referencer_jsxFragmentName = new WeakMap(), _Referencer_hasReferencedJsxFactory = new WeakMap(), _Referencer_hasReferencedJsxFragmentFactory = new WeakMap(), _Referencer_lib = new WeakMap(), _Referencer_emitDecoratorMetadata = new WeakMap();","map":{"version":3,"mappings":"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","names":["Referencer","Visitor_1","constructor","options","scopeManager","_Referencer_jsxPragma","_Referencer_jsxFragmentName","_Referencer_hasReferencedJsxFactory","_Referencer_hasReferencedJsxFragmentFactory","_Referencer_lib","_Referencer_emitDecoratorMetadata","__classPrivateFieldSet","jsxPragma","jsxFragmentName","lib","emitDecoratorMetadata","currentScope","dontThrowOnNull","close","node","block","referencingDefaultValue","pattern","assignments","maybeImplicitGlobal","init","forEach","assignment","referenceValue","Reference_1","Write","right","populateGlobalsFromLib","globalScope","__classPrivateFieldGet","variables","lib_1","Error","name","variable","Object","entries","defineImplicitVariable","eslintImplicitGlobalSetting","isTypeVariable","isValueVariable","referenceInSomeUpperScope","scope","set","get","upper","identifiers","referenceJsxPragma","referenceJsxFragment","visitClass","ClassVisitor_1","visit","visitForIn","left","type","types_1","VariableDeclaration","kind","nestForScope","visitPattern","declarations","id","info","isStrict","processRightHandNodes","body","visitFunctionParameterTypeAnnotation","visitType","typeAnnotation","AssignmentPattern","TSParameterProperty","parameter","visitFunction","FunctionExpression","nestFunctionExpressionNameScope","defineIdentifier","definition_1","nestFunctionScope","param","params","rest","decorators","d","returnType","typeParameters","BlockStatement","visitChildren","visitProperty","computed","key","value","TypeVisitor_1","visitTypeAssertion","expression","ArrowFunctionExpression","AssignmentExpression","TSAsExpression","TSTypeAssertion","TSNonNullExpression","PatternVisitor_1","isPattern","operator","Identifier","ReadWrite","isES6","nestBlockScope","BreakStatement","CallExpression","CatchClause","nestCatchScope","ClassExpression","ClassDeclaration","ContinueStatement","ExportAllDeclaration","ExportDefaultDeclaration","declaration","ExportVisitor_1","ExportNamedDeclaration","ForInStatement","ForOfStatement","ForStatement","FunctionDeclaration","ImportDeclaration","isModule","ImportVisitor_1","JSXAttribute","JSXClosingElement","JSXFragment","JSXIdentifier","JSXMemberExpression","object","JSXOpeningElement","toUpperCase","attr","attributes","LabeledStatement","MemberExpression","property","MetaProperty","NewExpression","PrivateIdentifier","Program","nestGlobalScope","isGlobalReturn","nestModuleScope","isStrictModeSupported","isImpliedStrict","Property","SwitchStatement","discriminant","nestSwitchScope","switchCase","cases","TaggedTemplateExpression","tag","quasi","TSDeclareFunction","TSImportEqualsDeclaration","moduleReference","TSQualifiedName","TSEmptyBodyFunctionExpression","TSEnumDeclaration","nestTSEnumScope","member","members","Literal","defineLiteralIdentifier","initializer","TSInstantiationExpression","TSInterfaceDeclaration","TSModuleDeclaration","global","nestTSModuleScope","TSSatisfiesExpression","TSTypeAliasDeclaration","UpdateExpression","argument","variableTargetScope","variableScope","decl","WithStatement","nestWithScope","ImportAttribute","exports"],"sources":["../../src/referencer/Referencer.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}